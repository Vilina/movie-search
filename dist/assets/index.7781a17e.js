var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,n=(t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,o=(e,t)=>{for(var s in t||(t={}))r.call(t,s)&&n(e,s,t[s]);if(a)for(var s of a(t))i.call(t,s)&&n(e,s,t[s]);return e},l=(e,a)=>t(e,s(a));import{m as c,_ as d,p as u,a as g,o as m,c as v,b as p,w as h,v as f,d as S,t as y,F as E,r as M,e as F,J as _,C as w,h as b,f as k,g as T,i as L,j as I,k as P,s as G,l as R}from"./vendor.b498344b.js";const A={data:function(){return{subMenu:!1}},computed:l(o({},c({movies:"getMovies",series:"getSeries",genres:"getGenres",genre:"getGenre",searchFieldState:"getSearchField"})),{searchField:{get(){return this.searchFieldState||""},set:d.debounce((async function(e){e?(await this.$store.dispatch("setSearchField",e),await this.$router.push({path:"/search",query:{search:this.searchField}})):(await this.$store.dispatch("unsetSearchField"),await this.$router.push({path:"/search"}))}),500)}}),created(){window.addEventListener("scroll",this.handleScroll),window.addEventListener("click",this.closeSubmenu)},beforeUpdate(){},mounted(){document.querySelector(".genre-dropdown-box").addEventListener("click",(e=>{e.stopPropagation()}))},unmounted(){document.querySelector(".genre-dropdown-box").removeEventListener("click",(e=>{e.stopPropagation()})),window.removeEventListener("click",this.closeSubmenu),window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){let e=document.querySelector(".search-content");window.scrollY>0&&!e.className.includes("pinned")?e.classList.add("pinned"):0==window.scrollY&&e.classList.remove("pinned")},goSeries(){this.$router.push("/series")},goMovies(){this.$router.push("/movies")},goMain(){this.$router.push("/")},toggleSubmenu(){this.subMenu=!this.subMenu},closeSubmenu(){this.subMenu=!1},setGenre(e){this.$store.dispatch("setGenre",e),"movie"===this.$route.name&&this.goMain(),this.toggleSubmenu()},unsetGenre(e){e.stopPropagation(),this.$store.dispatch("unsetGenre"),this.closeSubmenu()},async unsetSearch(e){e.stopPropagation(),this.searchField=""},async searchMovies(){await this.$store.dispatch("setSearchField",this.searchField),await this.$router.push({path:"/search",query:{search:this.searchField}})}}},N=F("data-v-3fce0999");u("data-v-3fce0999");const O={class:"search-container"},D={class:"search-content"},j={class:"search-box"},x={class:"search-box-elements"},C={class:"search-input"},$=p("i",{class:"icon fas fa-search"},null,-1),U={class:"genre-dropdown-box"},B={key:0},q={key:1},Y={key:2,class:"icon fas fa-chevron-down"},V={key:3,class:"icon fas fa-chevron-up"},H={key:0,class:"box-submenu"};g();const J=N(((e,t,s,a,r,i)=>(m(),v("div",O,[p("div",D,[p("a",{class:"logo",onClick:t[1]||(t[1]=e=>i.goMain())}),p("a",{class:["menu-item",{active:"main"===e.$route.name}],onClick:t[2]||(t[2]=e=>i.goMain())},"Home",2),p("a",{class:["menu-item",{active:"series"===e.$route.name}],onClick:t[3]||(t[3]=e=>i.goSeries())},"TV shows",2),p("a",{class:["menu-item",{active:"movies"===e.$route.name}],onClick:t[4]||(t[4]=e=>i.goMovies())},"Movies",2),p("div",j,[p("div",x,[p("div",C,[h(p("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>i.searchField=e),placeholder:"Titles, people, genres",type:"text"},null,512),[[f,i.searchField]]),$,""!==i.searchField?(m(),v("i",{key:0,class:"icon fas fa-times",onClick:t[6]||(t[6]=(...e)=>i.unsetSearch&&i.unsetSearch(...e))})):S("",!0)])]),p("div",U,[p("div",{class:"box-label",onClick:t[8]||(t[8]=e=>i.toggleSubmenu())},[e.genre&&!e.genre.title?(m(),v("a",B,"Genres")):S("",!0),e.genre&&e.genre.title?(m(),v("a",q,y(e.genre.title),1)):S("",!0),e.subMenu?S("",!0):(m(),v("i",Y)),e.subMenu?(m(),v("i",V)):S("",!0),e.genre&&e.genre.title?(m(),v("i",{key:4,class:"icon fas fa-times",onClick:t[7]||(t[7]=(...e)=>i.unsetGenre&&i.unsetGenre(...e))})):S("",!0)]),e.subMenu?(m(),v("div",H,[(m(!0),v(E,null,M(e.genres,(e=>(m(),v("p",{key:e.id,onClick:t=>i.setGenre(e.id)},y(e.title),9,["onClick"])))),128))])):S("",!0)])])])]))));A.render=J,A.__scopeId="data-v-3fce0999";let z="./",K="./movies.json",Q="./actors.json",W="./genre.json";const X=_({useNativeBigInt:!0}),Z=z;let ee=w.create({baseURL:Z});function te(e){let t=e;return Array.isArray(e)?t=t.map((function(e){return e.release_date_formatted=b(e.release_date).format("YYYY MMM DD"),e})):t&&t.release_date&&(t.release_date_formatted=b(t.release_date).format("YYYY MMM DD")),t}function se(...e){let t="?";return e.map((e=>{e[Object.keys(e)[0]]&&(t+=Object.keys(e)[0]+"="+e[Object.keys(e)[0]]+"&")})),t}var ae={getMovies(e){let t=se({genreId:e.id});return ee.get("/movies"+t,{transformResponse:[e=>X.parse(e)]}).then((e=>te(e.data)))},getSeries(e){let t=se({genreId:e.id});return ee.get("/series"+t,{transformResponse:[e=>X.parse(e)]}).then((e=>te(e.data)))},getLatest(e){let t=se({genreId:e.id});return ee.get("/latest"+t,{transformResponse:[e=>X.parse(e)]}).then((e=>te(e.data)))},getPopular(e){let t=se({genreId:e.id});return ee.get("/popular"+t,{transformResponse:[e=>X.parse(e)]}).then((e=>te(e.data)))},getFeatured(e){let t=se({genreId:e.id});return ee.get("/featured"+t,{transformResponse:[e=>X.parse(e)]}).then((e=>te(e.data)))},getLatestFiltered(e,t){let s=se({isMovies:e},{genreId:t.id});return ee.get("/latest"+s,{transformResponse:[e=>X.parse(e)]}).then((e=>te(e.data)))},getPopularFiltered(e,t){let s=se({isMovies:e},{genreId:t.id});return ee.get("/popular"+s,{transformResponse:[e=>X.parse(e)]}).then((e=>te(e.data)))},getFeaturedFiltered(e,t){let s=se({isMovies:e},{genreId:t.id});return ee.get("/featured"+s,{transformResponse:[e=>X.parse(e)]}).then((e=>e.data))},getGenres:()=>ee.get("/genres",{transformResponse:[e=>X.parse(e)]}).then((e=>e.data)),getGenresFiltered(e){let t=se({key:e});return ee.get("/genres/all"+t,{transformResponse:[e=>X.parse(e)]}).then((e=>e.data))},getAllMoviesFiltered(e,t,s,a){let r=se({key:e},{genreId:t.id},{limit:s},{offset:a});return ee.get("/movies/all"+r,{transformResponse:[e=>X.parse(e)]}).then((e=>(te(e.data.movies),e.data)))},getActorsFiltered(e){let t=se({key:e});return ee.get("/actors/all"+t,{transformResponse:[e=>X.parse(e)]}).then((e=>e.data))},getMovie(e){let t=se({id:e});return ee.get("/movie"+t,{transformResponse:[e=>X.parse(e)]}).then((e=>te(e.data)))}};const re=k({state:()=>({allMovies:{},movies:[],series:[],latest:[],popular:[],latestMovies:[],latestSeries:[],popularMovies:[],popularSeries:[],featuredMovie:{},featuredMovieMovie:{},featuredMovieSeries:{},genre:{},genres:[],genresFiltered:[],actors:[],searchField:""}),mutations:{SET_ALL_MOVIES:(e,t)=>{e.allMovies=t},SET_MOVIES:(e,t)=>{e.movies=t},SET_SERIES:(e,t)=>{e.series=t},SET_LATEST:(e,t)=>{e.latest=t},SET_POPULAR:(e,t)=>{e.popular=t},SET_FEATURED:(e,t)=>{e.featuredMovie=t},SET_LATEST_FILTERED:(e,t)=>{t.isMovies?e.latestMovies=t.movies:e.latestSeries=t.movies},SET_POPULAR_FILTERED:(e,t)=>{t.isMovies?e.popularMovies=t.movies:e.popularSeries=t.movies},SET_FEATURED_FILTERED:(e,t)=>{t.isMovies?e.featuredMovieMovie=t.movie:e.featuredMovieSeries=t.movie},SET_GENRES:(e,t)=>{e.genres=t},SET_FILTERED_GENRES:(e,t)=>{e.genresFiltered=t},SET_GENRE:(e,t)=>{e.genre=t},SET_ACTORS:(e,t)=>{e.actors=t},SET_SEARCH_FIELD:(e,t)=>{e.searchField=t}},actions:{setGenre({commit:e,state:t},s){e("SET_GENRE",t.genres.find((function(e){return e.id===s})))},unsetGenre({commit:e}){e("SET_GENRE",{})},setGenres:({commit:e},t)=>e("SET_GENRES",t),setFilteredGenres:({commit:e},t)=>e("SET_FILTERED_GENRES",t),setActors:({commit:e},t)=>e("SET_ACTORS",t),setSearchField:({commit:e},t)=>e("SET_SEARCH_FIELD",t),unsetSearchField({commit:e}){e("SET_SEARCH_FIELD","")},getMovies:({commit:e,state:t})=>ae.getMovies(t.genre).then((t=>{e("SET_MOVIES",t)})),getSeries:({commit:e,state:t})=>ae.getSeries(t.genre).then((t=>{e("SET_SERIES",t)})),getLatest:({commit:e,state:t})=>ae.getLatest(t.genre).then((t=>{e("SET_LATEST",t)})),getPopular:({commit:e,state:t})=>ae.getPopular(t.genre).then((t=>{e("SET_POPULAR",t)})),getFeatured:({commit:e,state:t})=>ae.getFeatured(t.genre).then((t=>{e("SET_FEATURED",t)})),getLatestFiltered:({commit:e,state:t},[s])=>ae.getLatestFiltered(s,t.genre).then((t=>{e("SET_LATEST_FILTERED",{movies:t,isMovies:s})})),getPopularFiltered:({commit:e,state:t},[s])=>ae.getPopularFiltered(s,t.genre).then((t=>{e("SET_POPULAR_FILTERED",{movies:t,isMovies:s})})),getFeaturedFiltered:({commit:e,state:t},[s])=>ae.getFeaturedFiltered(s,t.genre).then((t=>{e("SET_FEATURED_FILTERED",{movie:t,isMovies:s})})),getAllGenres:({commit:e})=>ae.getGenres().then((t=>{e("SET_GENRES",t)})),getAllMoviesFiltered:({commit:e,state:t},s)=>ae.getAllMoviesFiltered(t.searchField,t.genre,s.limit,s.offset).then((t=>{e("SET_ALL_MOVIES",t)})),getGenresFiltered:({commit:e,state:t})=>ae.getGenresFiltered(t.searchField).then((t=>{e("SET_FILTERED_GENRES",t)})),getActorsFiltered:({commit:e,state:t})=>ae.getActorsFiltered(t.searchField).then((t=>{e("SET_ACTORS",t)}))},getters:{getMovies:e=>e.movies,getSeries:e=>e.series,getLatest:e=>e.latest,getPopular:e=>e.popular,getFeatured:e=>e.featuredMovie,getLatestMovies:e=>e.latestMovies,getLatestSeries:e=>e.latestSeries,getPopularMovies:e=>e.popularMovies,getPopularSeries:e=>e.popularSeries,getFeaturedMovie:e=>e.featuredMovieMovie,getFeaturedSeries:e=>e.featuredMovieSeries,getGenres:e=>e.genres,getGenre:e=>e.genre,getSearchField:e=>e.searchField,getActorsFiltered:e=>e.actors,getFilteredGenres:e=>e.genresFiltered,getAllMoviesFiltered:e=>e.allMovies}});const ie={components:{SearchHeader:A},props:{},data:()=>({}),created(){re.dispatch("getAllGenres")}},ne={class:"app-container"};ie.render=function(e,t,s,a,r,i){const n=T("SearchHeader"),o=T("router-view");return m(),v("div",ne,[p(n),p(o)])};const oe={components:{},props:{genre:Object,mini:{type:Boolean,default:!1},hover:{type:Boolean,default:!0}},data:()=>({}),computed:{},created(){},methods:{filterByGenre(){this.$store.dispatch("setGenre",this.genre.id),this.$router.push("/")}}},le=F("data-v-0a3a08ef")(((e,t,s,a,r,i)=>(m(),v("a",{class:["genre-item",{mini:s.mini}],onClick:t[1]||(t[1]=e=>i.filterByGenre())},y(s.genre.title),3))));oe.render=le,oe.__scopeId="data-v-0a3a08ef";const ce={components:{Genre:oe},props:{featured:Object,message:{type:String,default:""}},created(){},methods:{getImgUrl:e=>"./images/"+e+".jpg",async openMovie(){await this.$router.push({path:"/movie",query:{id:this.featured.id}})}}},de=F("data-v-8e05c8e4");u("data-v-8e05c8e4");const ue={class:"featured-container"},ge={class:"featured-img-container"},me=p("div",{class:"featured-gradient"},null,-1),ve=p("div",{class:"featured-gradient-title"},null,-1),pe={key:0,class:"featured-info-message"},he={class:"featured-info"},fe={class:"featured-info-details"},Se={key:0,class:"featured-info-details-category"},ye={class:"featured-info-details-year"},Ee={class:"featured-info-genre"};g();const Me=de(((e,t,s,a,r,i)=>{const n=T("Genre");return m(),v("div",ue,[p("div",ge,[p("div",{class:"featured-img",style:{backgroundImage:"url("+i.getImgUrl(s.featured.id)+")"}},null,4),me,ve]),s.message?(m(),v("div",pe,y(s.message),1)):S("",!0),p("div",he,[p("div",{class:"featured-info-title",onClick:t[1]||(t[1]=e=>i.openMovie())},y(s.featured.title),1),p("div",fe,[s.featured.is_series?(m(),v("div",Se,"TV Series")):S("",!0),p("div",ye,y(s.featured.release_date_formatted),1)]),p("div",Ee,[(m(!0),v(E,null,M(s.featured.genre,(e=>(m(),v(n,{key:e.id,genre:e},null,8,["genre"])))),128))])])])}));ce.render=Me,ce.__scopeId="data-v-8e05c8e4";const Fe={components:{Genre:oe},props:{movie:Object},data:()=>({}),computed:{},created(){},methods:{getImgUrl:e=>"./images/"+e+".jpg",async openMovie(){await this.$router.push({path:"/movie",query:{id:this.movie.id}})}}},_e=F("data-v-cea04282");u("data-v-cea04282");const we={class:"movie-title"},be={class:"genre-container"};g();const ke=_e(((e,t,s,a,r,i)=>{const n=T("Genre");return m(),v("div",{class:"movie-box-container ",onClick:t[1]||(t[1]=e=>i.openMovie())},[p("div",{class:"movie-img",style:{backgroundImage:"url("+i.getImgUrl(s.movie.id)+")"}},null,4),p("div",we,[p("p",null,y(s.movie.title),1),p("div",be,[(m(!0),v(E,null,M(s.movie.genre,(e=>(m(),v(n,{key:e.id,genre:e,mini:!0,hover:!1},null,8,["genre"])))),128))])])])}));Fe.render=ke,Fe.__scopeId="data-v-cea04282";const Te={components:{MovieBox:Fe},props:{movies:Array,title:String,emptyMessage:String},data:()=>({}),computed:{},created(){}},Le=F("data-v-425adc70");u("data-v-425adc70");const Ie={class:"slider-container"},Pe={class:"container-title"},Ge={class:"boxes-container-scroll"},Re={key:0,class:"boxes-container"},Ae={key:1,class:"boxes-container"},Ne={class:"empty-box"};g();const Oe=Le(((e,t,s,a,r,i)=>{const n=T("MovieBox");return m(),v("div",Ie,[p("div",Pe,y(s.title),1),p("div",Ge,[s.movies.length?(m(),v("div",Re,[(m(!0),v(E,null,M(s.movies.slice(0,8),(e=>(m(),v(n,{key:e.id,movie:e},null,8,["movie"])))),128))])):S("",!0),s.movies.length?S("",!0):(m(),v("div",Ae,[p("div",Ne,y(s.emptyMessage),1)]))])])}));Te.render=Oe,Te.__scopeId="data-v-425adc70";var De={runDispatchesForMovies:async function(){await re.dispatch("getMovies"),await re.dispatch("getLatestFiltered",[!0]),await re.dispatch("getPopularFiltered",[!0]),await re.dispatch("getFeaturedFiltered",[!0])},runDispatchesForSeries:async function(){await re.dispatch("getSeries"),await re.dispatch("getLatestFiltered",[!1]),await re.dispatch("getPopularFiltered",[!1]),await re.dispatch("getFeaturedFiltered",[!1])},runDispatchesForMain:async function(){await re.dispatch("getMovies"),await re.dispatch("getSeries"),await re.dispatch("getLatest"),await re.dispatch("getPopular"),await re.dispatch("getFeatured")},runDispatchesForMovieList:async function(){await re.dispatch("getAllMoviesFiltered",{limit:10}),await re.dispatch("getActorsFiltered"),await re.dispatch("getGenresFiltered")}};let je=[];const xe={components:{FeaturedMovie:ce,MoviesSlider:Te},data:()=>({}),computed:o({},c({genres:"getGenres",movies:"getMovies",series:"getSeries",latest:"getLatest",popular:"getPopular",featured:"getFeatured"})),created(){je.push(this.$store.subscribe((e=>{"SET_GENRE"===e.type&&De.runDispatchesForMain()})))},beforeUnmount(){je.map((e=>{e()}))},methods:{checkFeatured(){return!d.isEmpty(this.featured)}}},Ce=F("data-v-dccace22");u("data-v-dccace22");const $e={class:"content"};g();const Ue=Ce(((e,t,s,a,r,i)=>{const n=T("FeaturedMovie"),o=T("MoviesSlider");return m(),v(E,null,[i.checkFeatured()?(m(),v(n,{key:0,featured:e.featured},null,8,["featured"])):S("",!0),p("div",$e,[p("div",{class:["content-offset",{"no-featured":!e.featured}]},[p(o,{movies:e.popular,title:"Popular","empty-message":"No movies of this genre"},null,8,["movies"]),p(o,{movies:e.latest,title:"Latest","empty-message":"No movies of this genre"},null,8,["movies"]),p(o,{movies:e.movies,title:"Movies","empty-message":"No movies of this genre"},null,8,["movies"]),p(o,{movies:e.series,title:"TV Series","empty-message":"No series of this genre"},null,8,["movies"])],2)])],64)}));xe.render=Ue,xe.__scopeId="data-v-dccace22";let Be=[];const qe={components:{FeaturedMovie:ce,MoviesSlider:Te},data:function(){return{message:"Movie of the week"}},computed:o({},c({movies:"getMovies",genres:"getGenres",latest:"getLatestMovies",popular:"getPopularMovies",featured:"getFeaturedMovie"})),created(){Be.push(this.$store.subscribe((e=>{"SET_GENRE"===e.type&&De.runDispatchesForMovies()})))},beforeUnmount(){Be.map((e=>{e()}))},methods:{checkFeatured(){return!d.isEmpty(this.featured)}}},Ye=F("data-v-4c9695f9");u("data-v-4c9695f9");const Ve={class:"content"};g();const He=Ye(((e,t,s,a,r,i)=>{const n=T("FeaturedMovie"),o=T("MoviesSlider");return m(),v(E,null,[i.checkFeatured()?(m(),v(n,{key:0,featured:e.featured,message:e.message},null,8,["featured","message"])):S("",!0),p("div",Ve,[p("div",{class:["content-offset",{"no-featured":!e.featured}]},[p(o,{movies:e.popular,title:"Popular","empty-message":"No movies of this genre"},null,8,["movies"]),p(o,{movies:e.latest,title:"Latest","empty-message":"No movies of this genre"},null,8,["movies"]),p(o,{movies:e.movies,title:"Movies","empty-message":"No movies of this genre"},null,8,["movies"])],2)])],64)}));qe.render=He,qe.__scopeId="data-v-4c9695f9";let Je=[];const ze={components:{FeaturedMovie:ce,MoviesSlider:Te},data:function(){return{message:"Show of the week"}},computed:o({},c({series:"getSeries",genres:"getGenres",latest:"getLatestSeries",popular:"getPopularSeries",featured:"getFeaturedSeries"})),created(){Je.push(this.$store.subscribe((e=>{"SET_GENRE"===e.type&&De.runDispatchesForSeries()})))},beforeUnmount(){Je.map((e=>{e()}))},methods:{checkFeatured(){return!d.isEmpty(this.featured)}}},Ke=F("data-v-c7c399a6");u("data-v-c7c399a6");const Qe={class:"content"};g();const We=Ke(((e,t,s,a,r,i)=>{const n=T("FeaturedMovie"),o=T("MoviesSlider");return m(),v(E,null,[i.checkFeatured()?(m(),v(n,{key:0,featured:e.featured,message:e.message},null,8,["featured","message"])):S("",!0),p("div",Qe,[p("div",{class:["content-offset",{"no-featured":!e.featured}]},[p(o,{movies:e.popular,title:"Popular","empty-message":"No movies of this genre"},null,8,["movies"]),p(o,{movies:e.latest,title:"Latest","empty-message":"No movies of this genre"},null,8,["movies"]),p(o,{movies:e.series,title:"TV series","empty-message":"No series of this genre"},null,8,["movies"])],2)])],64)}));ze.render=We,ze.__scopeId="data-v-c7c399a6";const Xe={components:{},props:{count:Number,callback:Function},data:()=>({activePage:0}),computed:{pagesCount:function(){return Math.ceil(d.divide(this.count,10))}},created(){},methods:{async filterByGenre(){await this.$store.dispatch("setGenre",this.genre.id),await this.$router.push("/")},async changePage(e){this.activePage=e-1,await this.$store.dispatch("getAllMoviesFiltered",{limit:10,offset:10*this.activePage})}}},Ze=F("data-v-3a5a9b5e");u("data-v-3a5a9b5e");const et={key:0,class:"pagination-container"};g();const tt=Ze(((e,t,s,a,r,i)=>i.pagesCount>1?(m(),v("div",et,[(m(!0),v(E,null,M(i.pagesCount,(e=>(m(),v("div",{key:e,class:["page",{active:r.activePage===e-1}],onClick:t=>i.changePage(e)},y(e),11,["onClick"])))),128))])):S("",!0)));Xe.render=tt,Xe.__scopeId="data-v-3a5a9b5e";let st=[];const at={components:{MovieBox:Fe,Genre:oe,Pagination:Xe},props:{},data:()=>({}),computed:l(o({},c({filteredMovies:"getAllMoviesFiltered",actors:"getActorsFiltered",genres:"getFilteredGenres",genre:"getGenre"})),{movies:function(){return this.filteredMovies.movies},pagination:function(){return this.filteredMovies.count}}),created(){st.push(this.$store.subscribe((e=>{"SET_SEARCH_FIELD"!==e.type&&"SET_GENRE"!==e.type||De.runDispatchesForMovieList()})))},beforeUnmount(){st.map((e=>{e()}))}},rt=F("data-v-00547528");u("data-v-00547528");const it={class:"movie-list-container"},nt=p("div",{class:"page-title"},"Search results",-1),ot={key:0,class:"genres"},lt=p("div",{class:"genres-title"},"Genres",-1),ct={key:0,class:"genres-container"},dt={key:1,class:"empty-container"},ut={key:1,class:"actors"},gt=p("div",{class:"actors-title"},"Actors",-1),mt={key:0,class:"actors-container"},vt={key:1,class:"empty-container"},pt={class:"movies"},ht=p("div",{class:"movies-title"},"Movies",-1),ft={key:0,class:"movies-container"},St={key:1,class:"empty-container"},yt={class:"pagination"};g();const Et=rt(((e,t,s,a,r,i)=>{const n=T("Genre"),o=T("MovieBox"),l=T("Pagination");return m(),v("div",it,[nt,e.genre.id?S("",!0):(m(),v("div",ot,[lt,e.genres.length?(m(),v("div",ct,[(m(!0),v(E,null,M(e.genres,(e=>(m(),v(n,{key:e.id,genre:e},null,8,["genre"])))),128))])):S("",!0),e.genres.length?S("",!0):(m(),v("div",dt,"No genres were found"))])),e.genre.id?S("",!0):(m(),v("div",ut,[gt,e.actors.length?(m(),v("div",mt,[(m(!0),v(E,null,M(e.actors,(e=>(m(),v("p",{key:e.id,class:"actor"},y(e.name),1)))),128))])):S("",!0),e.actors.length?S("",!0):(m(),v("div",vt,"No actors were found "))])),p("div",pt,[ht,i.movies.length?(m(),v("div",ft,[(m(!0),v(E,null,M(i.movies,(e=>(m(),v(o,{key:e.id,movie:e},null,8,["movie"])))),128))])):S("",!0),i.movies.length?S("",!0):(m(),v("div",St,"No movies were found "))]),p("div",yt,[p(l,{count:i.pagination},null,8,["count"])])])}));at.render=Et,at.__scopeId="data-v-00547528";const Mt={components:{Genre:oe},beforeRouteEnter(e,t,s){ae.getMovie(e.query.id).then((e=>{s((t=>t.setMovie(e)))}))},props:{},data:()=>({movie:{}}),computed:{},created(){},methods:{getImgUrl:e=>"./images/"+e+".jpg",setMovie(e){this.movie=e}}},Ft=F("data-v-0bcfcf2c");u("data-v-0bcfcf2c");const _t={class:"movie-container"},wt={class:"movie-info"},bt={class:"movie-title"},kt={class:"release-date"},Tt={class:"genres"},Lt={class:"actors"},It=p("div",{class:"caption"}," Cast ",-1);g();const Pt=Ft(((e,t,s,a,r,i)=>{const n=T("Genre");return m(),v("div",_t,[p("div",{class:"movie-poster",style:{backgroundImage:"url("+i.getImgUrl(r.movie.id)+")"}},null,4),p("div",wt,[p("div",bt,y(r.movie.title),1),p("div",kt," Release date: "+y(r.movie.release_date_formatted),1),p("div",Tt,[(m(!0),v(E,null,M(r.movie.genre,(e=>(m(),v(n,{key:e.id,genre:e},null,8,["genre"])))),128))]),p("div",Lt,[It,(m(!0),v(E,null,M(r.movie.actors,(e=>(m(),v("p",{key:e.id,class:"actor"},y(e.name),1)))),128))])])])}));Mt.render=Pt,Mt.__scopeId="data-v-0bcfcf2c";const Gt=L({history:I(),routes:[{path:"/",name:"main",component:xe,beforeEnter:(e,t,s)=>{De.runDispatchesForMain().then((()=>{s()}))}},{path:"/movies",name:"movies",component:qe,beforeEnter:(e,t,s)=>{De.runDispatchesForMovies().then((()=>{s()}))}},{path:"/series",name:"series",component:ze,beforeEnter:(e,t,s)=>{De.runDispatchesForSeries().then((()=>{s()}))}},{path:"/search/:search?",name:"search",component:at,beforeEnter:async(e,t,s)=>{await De.runDispatchesForMovieList(),s()}},{path:"/movie/:id?",name:"movie",component:Mt}]});function Rt(e,t){return Boolean(t)?e.filter((e=>!e.is_series)):e.filter((e=>e.is_series))}function At(e,t){return t?e.filter((e=>d.some(e.genre,(e=>e.id==t)))):e}Gt.beforeEach((async e=>{let t=await re.getters.getSearchField;e.query.search!==t&&await re.dispatch("setSearchField",e.query.search)}));var Nt=(e,t)=>{let s=At(e,t);return s.length?d.sample(At(s,t)):null},Ot=(e,t)=>At(Rt(e,!0),t),Dt=(e,t)=>At(Rt(e,!1),t),jt=(e,t)=>d.orderBy(At(e,t),["release_date"],["desc"]),xt=(e,t)=>d.shuffle(At(e,t)),Ct=(e,t,s)=>{let a=Rt(e,t);return d.orderBy(At(a,s),["release_date"],["desc"])},$t=(e,t,s)=>{let a=Rt(e,t);return d.shuffle(At(a,s))},Ut=(e,t,s)=>{let a=At(Rt(e,t),s);return a.length?d.sample(a):null},Bt=(e,t,s,a,r)=>{let i=function(e,t,s,a,r){let i=d.toLower(t),n=e;return t&&!s?n=e.filter((e=>{let t=e.title.indexOf(i)>=0,s=e.actors.filter((e=>d.toLower(e.name).indexOf(i)>=0)),a=e.genre.filter((e=>d.toLower(e.title).indexOf(i)>=0));return t||s.length||a.length})):t&&s?n=e.filter((e=>{let t=e.title.indexOf(i)>=0,a=e.genre.filter((e=>e.id==s));return t&&a.length})):!t&&s&&(n=e.filter((e=>e.genre.filter((e=>e.id==s)).length))),{movies:n.slice(parseInt(r||0),parseInt(r||0)+parseInt(a||0)),count:n.length}}(e,t,s,a,r);return{movies:i.movies,count:i.count}},qt=(e,t)=>function(e,t){return e.filter((e=>d.toLower(e.title).indexOf(d.toLower(t))>=0))}(e,t),Yt=(e,t)=>function(e,t){return e.filter((e=>d.toLower(e.name).indexOf(d.toLower(t))>=0))}(e,t),Vt=(e,t)=>e.find((e=>e.id==t));const Ht=_({useNativeBigInt:!0,storeAsString:!0});let Jt=[],zt=[],Kt=[];async function Qt(){if(!Jt.length){let e=await fetch(W);Jt=Ht.parse(await e.text())}return Jt}async function Wt(){if(!zt.length){let e=await fetch(K);zt=Ht.parse(await e.text())}return zt}const Xt=G(...[P.get("/genres",(async(e,t,s)=>{let a=await Qt();return t(s.status(200),s.json(a))})),P.get("/movie",(async(e,t,s)=>{const a=e.url.searchParams.get("id");let r=await Wt();return r=Vt(r,a),t(s.status(200),s.json(r))})),P.get("/movies",(async(e,t,s)=>{const a=e.url.searchParams.get("genreId");let r=await Wt();return r=Ot(r,a),t(s.status(200),s.json(r))})),P.get("/series",(async(e,t,s)=>{const a=e.url.searchParams.get("genreId");let r=await Wt();return r=Dt(r,a),t(s.status(200),s.json(r))})),P.get("/latest",(async(e,t,s)=>{const a=e.url.searchParams.get("genreId"),r=JSON.parse(e.url.searchParams.get("isMovies"));let i=await Wt();return i=d.isNil(r)?jt(i,a):Ct(i,r,a),t(s.status(200),s.json(i))})),P.get("/popular",(async(e,t,s)=>{const a=e.url.searchParams.get("genreId"),r=JSON.parse(e.url.searchParams.get("isMovies"));let i=await Wt();return i=d.isNil(r)?xt(i,a):$t(i,r,a),t(s.status(200),s.json(i))})),P.get("/featured",(async(e,t,s)=>{const a=e.url.searchParams.get("genreId"),r=JSON.parse(e.url.searchParams.get("isMovies"));let i=await Wt();return i=d.isNil(r)?Nt(i,a):Ut(i,r,a),t(s.status(200),s.json(i))})),P.get("/movies/all",(async(e,t,s)=>{const a=e.url.searchParams.get("key"),r=e.url.searchParams.get("genreId"),i=e.url.searchParams.get("limit"),n=e.url.searchParams.get("offset");let o=await Wt();return o=Bt(o,a,r,i,n),t(s.status(200),s.json(o))})),P.get("/genres/all",(async(e,t,s)=>{const a=e.url.searchParams.get("key");let r=await Qt();return r=qt(r,a),t(s.status(200),s.json(r))})),P.get("/actors/all",(async(e,t,s)=>{const a=e.url.searchParams.get("key");let r=await async function(){if(!Kt.length){let e=await fetch(Q);Kt=Ht.parse(await e.text())}return Kt}();return r=Yt(r,a),t(s.status(200),s.json(r))}))]);Xt.printHandlers(),Xt.start({onUnhandledRequest:"bypass"});const Zt=R(ie);Zt.use(re),Zt.use(Gt),Zt.mount("#app");
