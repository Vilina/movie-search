var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,n=(t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,o=(e,t)=>{for(var s in t||(t={}))r.call(t,s)&&n(e,s,t[s]);if(a)for(var s of a(t))i.call(t,s)&&n(e,s,t[s]);return e},l=(e,a)=>t(e,s(a));import{m as c,_ as d,p as u,a as g,o as m,c as v,b as p,w as h,v as f,d as S,t as y,F as E,r as M,e as F,J as _,C as b,h as w,f as k,g as T,i as L,j as I,k as P,s as G,l as R}from"./vendor.b498344b.js";const A={data:function(){return{subMenu:!1}},computed:l(o({},c({movies:"getMovies",series:"getSeries",genres:"getGenres",genre:"getGenre",searchFieldState:"getSearchField"})),{searchField:{get(){return this.searchFieldState||""},set:d.debounce((async function(e){e?(await this.$store.dispatch("setSearchField",e),await this.$router.push({path:"/search",query:{search:this.searchField}})):(await this.$store.dispatch("unsetSearchField"),await this.$router.push({path:"/search"}))}),500)}}),created(){window.addEventListener("scroll",this.handleScroll),window.addEventListener("click",this.closeSubmenu)},beforeUpdate(){},mounted(){document.querySelector(".genre-dropdown-box").addEventListener("click",(e=>{e.stopPropagation()}))},unmounted(){document.querySelector(".genre-dropdown-box").removeEventListener("click",(e=>{e.stopPropagation()})),window.removeEventListener("click",this.closeSubmenu),window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){let e=document.querySelector(".search-content");window.scrollY>0&&!e.className.includes("pinned")?e.classList.add("pinned"):0==window.scrollY&&e.classList.remove("pinned")},goSeries(){this.$router.push({path:"/series"})},goMovies(){this.$router.push({path:"/movies"})},goMain(){this.$router.push({path:"/"})},toggleSubmenu(){this.subMenu=!this.subMenu},closeSubmenu(){this.subMenu=!1},setGenre(e){this.$store.dispatch("setGenre",e),"movie"===this.$route.name&&this.goMain(),this.toggleSubmenu()},unsetGenre(e){e.stopPropagation(),this.$store.dispatch("unsetGenre"),this.closeSubmenu()},async unsetSearch(e){e.stopPropagation(),this.searchField=""},async searchMovies(){await this.$store.dispatch("setSearchField",this.searchField),await this.$router.push({path:"/search",query:{search:this.searchField}})}}},N=F("data-v-3fce0999");u("data-v-3fce0999");const O={class:"search-container"},D={class:"search-content"},j={class:"search-box"},x={class:"search-box-elements"},C={class:"search-input"},$=p("i",{class:"icon fas fa-search"},null,-1),U={class:"genre-dropdown-box"},B={key:0},q={key:1},Y={key:2,class:"icon fas fa-chevron-down"},V={key:3,class:"icon fas fa-chevron-up"},H={key:0,class:"box-submenu"};g();const J=N(((e,t,s,a,r,i)=>(m(),v("div",O,[p("div",D,[p("a",{class:"logo",onClick:t[1]||(t[1]=e=>i.goMain())}),p("a",{class:["menu-item",{active:"main"===e.$route.name}],onClick:t[2]||(t[2]=e=>i.goMain())},"Home",2),p("a",{class:["menu-item",{active:"series"===e.$route.name}],onClick:t[3]||(t[3]=e=>i.goSeries())},"TV shows",2),p("a",{class:["menu-item",{active:"movies"===e.$route.name}],onClick:t[4]||(t[4]=e=>i.goMovies())},"Movies",2),p("div",j,[p("div",x,[p("div",C,[h(p("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>i.searchField=e),placeholder:"Titles, people, genres",type:"text"},null,512),[[f,i.searchField]]),$,""!==i.searchField?(m(),v("i",{key:0,class:"icon fas fa-times",onClick:t[6]||(t[6]=(...e)=>i.unsetSearch&&i.unsetSearch(...e))})):S("",!0)])]),p("div",U,[p("div",{class:"box-label",onClick:t[8]||(t[8]=e=>i.toggleSubmenu())},[e.genre&&!e.genre.title?(m(),v("a",B,"Genres")):S("",!0),e.genre&&e.genre.title?(m(),v("a",q,y(e.genre.title),1)):S("",!0),e.subMenu?S("",!0):(m(),v("i",Y)),e.subMenu?(m(),v("i",V)):S("",!0),e.genre&&e.genre.title?(m(),v("i",{key:4,class:"icon fas fa-times",onClick:t[7]||(t[7]=(...e)=>i.unsetGenre&&i.unsetGenre(...e))})):S("",!0)]),e.subMenu?(m(),v("div",H,[(m(!0),v(E,null,M(e.genres,(e=>(m(),v("p",{key:e.id,onClick:t=>i.setGenre(e.id)},y(e.title),9,["onClick"])))),128))])):S("",!0)])])])]))));A.render=J,A.__scopeId="data-v-3fce0999";let z="/movie-search",K="/movie-search",Q="../movies.json",W="../actors.json",X="../genre.json";const Z=_({useNativeBigInt:!0}),ee=z;let te=b.create({baseURL:ee});function se(e){let t=e;return Array.isArray(e)?t=t.map((function(e){return e.release_date_formatted=w(e.release_date).format("YYYY MMM DD"),e})):t&&t.release_date&&(t.release_date_formatted=w(t.release_date).format("YYYY MMM DD")),t}function ae(...e){let t="?";return e.map((e=>{e[Object.keys(e)[0]]&&(t+=Object.keys(e)[0]+"="+e[Object.keys(e)[0]]+"&")})),t}var re={getMovies(e){let t=ae({genreId:e.id});return te.get("/movies"+t,{transformResponse:[e=>Z.parse(e)]}).then((e=>se(e.data)))},getSeries(e){let t=ae({genreId:e.id});return te.get("/series"+t,{transformResponse:[e=>Z.parse(e)]}).then((e=>se(e.data)))},getLatest(e){let t=ae({genreId:e.id});return te.get("/latest"+t,{transformResponse:[e=>Z.parse(e)]}).then((e=>se(e.data)))},getPopular(e){let t=ae({genreId:e.id});return te.get("/popular"+t,{transformResponse:[e=>Z.parse(e)]}).then((e=>se(e.data)))},getFeatured(e){let t=ae({genreId:e.id});return te.get("/featured"+t,{transformResponse:[e=>Z.parse(e)]}).then((e=>se(e.data)))},getLatestFiltered(e,t){let s=ae({isMovies:e},{genreId:t.id});return te.get("/latest"+s,{transformResponse:[e=>Z.parse(e)]}).then((e=>se(e.data)))},getPopularFiltered(e,t){let s=ae({isMovies:e},{genreId:t.id});return te.get("/popular"+s,{transformResponse:[e=>Z.parse(e)]}).then((e=>se(e.data)))},getFeaturedFiltered(e,t){let s=ae({isMovies:e},{genreId:t.id});return te.get("/featured"+s,{transformResponse:[e=>Z.parse(e)]}).then((e=>e.data))},getGenres:()=>te.get("/genres",{transformResponse:[e=>Z.parse(e)]}).then((e=>e.data)),getGenresFiltered(e){let t=ae({key:e});return te.get("/genres/all"+t,{transformResponse:[e=>Z.parse(e)]}).then((e=>e.data))},getAllMoviesFiltered(e,t,s,a){let r=ae({key:e},{genreId:t.id},{limit:s},{offset:a});return te.get("/movies/all"+r,{transformResponse:[e=>Z.parse(e)]}).then((e=>(se(e.data.movies),e.data)))},getActorsFiltered(e){let t=ae({key:e});return te.get("/actors/all"+t,{transformResponse:[e=>Z.parse(e)]}).then((e=>e.data))},getMovie(e){let t=ae({id:e});return te.get("/movie"+t,{transformResponse:[e=>Z.parse(e)]}).then((e=>se(e.data)))}};const ie=k({state:()=>({allMovies:{},movies:[],series:[],latest:[],popular:[],latestMovies:[],latestSeries:[],popularMovies:[],popularSeries:[],featuredMovie:{},featuredMovieMovie:{},featuredMovieSeries:{},genre:{},genres:[],genresFiltered:[],actors:[],searchField:""}),mutations:{SET_ALL_MOVIES:(e,t)=>{e.allMovies=t},SET_MOVIES:(e,t)=>{e.movies=t},SET_SERIES:(e,t)=>{e.series=t},SET_LATEST:(e,t)=>{e.latest=t},SET_POPULAR:(e,t)=>{e.popular=t},SET_FEATURED:(e,t)=>{e.featuredMovie=t},SET_LATEST_FILTERED:(e,t)=>{t.isMovies?e.latestMovies=t.movies:e.latestSeries=t.movies},SET_POPULAR_FILTERED:(e,t)=>{t.isMovies?e.popularMovies=t.movies:e.popularSeries=t.movies},SET_FEATURED_FILTERED:(e,t)=>{t.isMovies?e.featuredMovieMovie=t.movie:e.featuredMovieSeries=t.movie},SET_GENRES:(e,t)=>{e.genres=t},SET_FILTERED_GENRES:(e,t)=>{e.genresFiltered=t},SET_GENRE:(e,t)=>{e.genre=t},SET_ACTORS:(e,t)=>{e.actors=t},SET_SEARCH_FIELD:(e,t)=>{e.searchField=t}},actions:{setGenre({commit:e,state:t},s){e("SET_GENRE",t.genres.find((function(e){return e.id===s})))},unsetGenre({commit:e}){e("SET_GENRE",{})},setGenres:({commit:e},t)=>e("SET_GENRES",t),setFilteredGenres:({commit:e},t)=>e("SET_FILTERED_GENRES",t),setActors:({commit:e},t)=>e("SET_ACTORS",t),setSearchField:({commit:e},t)=>e("SET_SEARCH_FIELD",t),unsetSearchField({commit:e}){e("SET_SEARCH_FIELD","")},getMovies:({commit:e,state:t})=>re.getMovies(t.genre).then((t=>{e("SET_MOVIES",t)})),getSeries:({commit:e,state:t})=>re.getSeries(t.genre).then((t=>{e("SET_SERIES",t)})),getLatest:({commit:e,state:t})=>re.getLatest(t.genre).then((t=>{e("SET_LATEST",t)})),getPopular:({commit:e,state:t})=>re.getPopular(t.genre).then((t=>{e("SET_POPULAR",t)})),getFeatured:({commit:e,state:t})=>re.getFeatured(t.genre).then((t=>{e("SET_FEATURED",t)})),getLatestFiltered:({commit:e,state:t},[s])=>re.getLatestFiltered(s,t.genre).then((t=>{e("SET_LATEST_FILTERED",{movies:t,isMovies:s})})),getPopularFiltered:({commit:e,state:t},[s])=>re.getPopularFiltered(s,t.genre).then((t=>{e("SET_POPULAR_FILTERED",{movies:t,isMovies:s})})),getFeaturedFiltered:({commit:e,state:t},[s])=>re.getFeaturedFiltered(s,t.genre).then((t=>{e("SET_FEATURED_FILTERED",{movie:t,isMovies:s})})),getAllGenres:({commit:e})=>re.getGenres().then((t=>{e("SET_GENRES",t)})),getAllMoviesFiltered:({commit:e,state:t},s)=>re.getAllMoviesFiltered(t.searchField,t.genre,s.limit,s.offset).then((t=>{e("SET_ALL_MOVIES",t)})),getGenresFiltered:({commit:e,state:t})=>re.getGenresFiltered(t.searchField).then((t=>{e("SET_FILTERED_GENRES",t)})),getActorsFiltered:({commit:e,state:t})=>re.getActorsFiltered(t.searchField).then((t=>{e("SET_ACTORS",t)}))},getters:{getMovies:e=>e.movies,getSeries:e=>e.series,getLatest:e=>e.latest,getPopular:e=>e.popular,getFeatured:e=>e.featuredMovie,getLatestMovies:e=>e.latestMovies,getLatestSeries:e=>e.latestSeries,getPopularMovies:e=>e.popularMovies,getPopularSeries:e=>e.popularSeries,getFeaturedMovie:e=>e.featuredMovieMovie,getFeaturedSeries:e=>e.featuredMovieSeries,getGenres:e=>e.genres,getGenre:e=>e.genre,getSearchField:e=>e.searchField,getActorsFiltered:e=>e.actors,getFilteredGenres:e=>e.genresFiltered,getAllMoviesFiltered:e=>e.allMovies}});const ne={components:{SearchHeader:A},props:{},data:()=>({}),created(){ie.dispatch("getAllGenres")}},oe={class:"app-container"};ne.render=function(e,t,s,a,r,i){const n=T("SearchHeader"),o=T("router-view");return m(),v("div",oe,[p(n),p(o)])};const le={components:{},props:{genre:Object,mini:{type:Boolean,default:!1},hover:{type:Boolean,default:!0}},data:()=>({}),computed:{},created(){},methods:{filterByGenre(){this.$store.dispatch("setGenre",this.genre.id),this.$router.push({path:"/"})}}},ce=F("data-v-0a3a08ef")(((e,t,s,a,r,i)=>(m(),v("a",{class:["genre-item",{mini:s.mini}],onClick:t[1]||(t[1]=e=>i.filterByGenre())},y(s.genre.title),3))));le.render=ce,le.__scopeId="data-v-0a3a08ef";const de={components:{Genre:le},props:{featured:Object,message:{type:String,default:""}},computed:{baseUrl:()=>K},created(){},methods:{getImgUrl:e=>"../images/"+e+".jpg",async openMovie(){await this.$router.push({path:"/movie",query:{id:this.featured.id}})}}},ue=F("data-v-8e05c8e4");u("data-v-8e05c8e4");const ge={class:"featured-container"},me={class:"featured-img-container"},ve=p("div",{class:"featured-gradient"},null,-1),pe=p("div",{class:"featured-gradient-title"},null,-1),he={key:0,class:"featured-info-message"},fe={class:"featured-info"},Se={class:"featured-info-details"},ye={key:0,class:"featured-info-details-category"},Ee={class:"featured-info-details-year"},Me={class:"featured-info-genre"};g();const Fe=ue(((e,t,s,a,r,i)=>{const n=T("Genre");return m(),v("div",ge,[p("div",me,[p("div",{class:"featured-img",style:{backgroundImage:"url("+i.getImgUrl(s.featured.id)+")"}},null,4),ve,pe]),s.message?(m(),v("div",he,y(s.message),1)):S("",!0),p("div",fe,[p("div",{class:"featured-info-title",onClick:t[1]||(t[1]=e=>i.openMovie())},y(s.featured.title),1),p("div",Se,[s.featured.is_series?(m(),v("div",ye,"TV Series")):S("",!0),p("div",Ee,y(s.featured.release_date_formatted),1)]),p("div",Me,[(m(!0),v(E,null,M(s.featured.genre,(e=>(m(),v(n,{key:e.id,genre:e},null,8,["genre"])))),128))])])])}));de.render=Fe,de.__scopeId="data-v-8e05c8e4";const _e={components:{Genre:le},props:{movie:Object},data:()=>({}),computed:{baseUrl:()=>K},created(){},methods:{getImgUrl:e=>"../images/"+e+".jpg",async openMovie(){await this.$router.push({path:"/movie",query:{id:this.movie.id}})}}},be=F("data-v-cea04282");u("data-v-cea04282");const we={class:"movie-title"},ke={class:"genre-container"};g();const Te=be(((e,t,s,a,r,i)=>{const n=T("Genre");return m(),v("div",{class:"movie-box-container ",onClick:t[1]||(t[1]=e=>i.openMovie())},[p("div",{class:"movie-img",style:{backgroundImage:"url("+i.getImgUrl(s.movie.id)+")"}},null,4),p("div",we,[p("p",null,y(s.movie.title),1),p("div",ke,[(m(!0),v(E,null,M(s.movie.genre,(e=>(m(),v(n,{key:e.id,genre:e,mini:!0,hover:!1},null,8,["genre"])))),128))])])])}));_e.render=Te,_e.__scopeId="data-v-cea04282";const Le={components:{MovieBox:_e},props:{movies:Array,title:String,emptyMessage:String},data:()=>({}),computed:{},created(){}},Ie=F("data-v-425adc70");u("data-v-425adc70");const Pe={class:"slider-container"},Ge={class:"container-title"},Re={class:"boxes-container-scroll"},Ae={key:0,class:"boxes-container"},Ne={key:1,class:"boxes-container"},Oe={class:"empty-box"};g();const De=Ie(((e,t,s,a,r,i)=>{const n=T("MovieBox");return m(),v("div",Pe,[p("div",Ge,y(s.title),1),p("div",Re,[s.movies.length?(m(),v("div",Ae,[(m(!0),v(E,null,M(s.movies.slice(0,8),(e=>(m(),v(n,{key:e.id,movie:e},null,8,["movie"])))),128))])):S("",!0),s.movies.length?S("",!0):(m(),v("div",Ne,[p("div",Oe,y(s.emptyMessage),1)]))])])}));Le.render=De,Le.__scopeId="data-v-425adc70";var je={runDispatchesForMovies:async function(){await ie.dispatch("getMovies"),await ie.dispatch("getLatestFiltered",[!0]),await ie.dispatch("getPopularFiltered",[!0]),await ie.dispatch("getFeaturedFiltered",[!0])},runDispatchesForSeries:async function(){await ie.dispatch("getSeries"),await ie.dispatch("getLatestFiltered",[!1]),await ie.dispatch("getPopularFiltered",[!1]),await ie.dispatch("getFeaturedFiltered",[!1])},runDispatchesForMain:async function(){await ie.dispatch("getMovies"),await ie.dispatch("getSeries"),await ie.dispatch("getLatest"),await ie.dispatch("getPopular"),await ie.dispatch("getFeatured")},runDispatchesForMovieList:async function(){await ie.dispatch("getAllMoviesFiltered",{limit:10}),await ie.dispatch("getActorsFiltered"),await ie.dispatch("getGenresFiltered")}};let xe=[];const Ce={components:{FeaturedMovie:de,MoviesSlider:Le},data:()=>({}),computed:o({},c({genres:"getGenres",movies:"getMovies",series:"getSeries",latest:"getLatest",popular:"getPopular",featured:"getFeatured"})),created(){xe.push(this.$store.subscribe((e=>{"SET_GENRE"===e.type&&je.runDispatchesForMain()})))},beforeUnmount(){xe.map((e=>{e()}))},methods:{checkFeatured(){return!d.isEmpty(this.featured)}}},$e=F("data-v-dccace22");u("data-v-dccace22");const Ue={class:"content"};g();const Be=$e(((e,t,s,a,r,i)=>{const n=T("FeaturedMovie"),o=T("MoviesSlider");return m(),v(E,null,[i.checkFeatured()?(m(),v(n,{key:0,featured:e.featured},null,8,["featured"])):S("",!0),p("div",Ue,[p("div",{class:["content-offset",{"no-featured":!e.featured}]},[p(o,{movies:e.popular,title:"Popular","empty-message":"No movies of this genre"},null,8,["movies"]),p(o,{movies:e.latest,title:"Latest","empty-message":"No movies of this genre"},null,8,["movies"]),p(o,{movies:e.movies,title:"Movies","empty-message":"No movies of this genre"},null,8,["movies"]),p(o,{movies:e.series,title:"TV Series","empty-message":"No series of this genre"},null,8,["movies"])],2)])],64)}));Ce.render=Be,Ce.__scopeId="data-v-dccace22";let qe=[];const Ye={components:{FeaturedMovie:de,MoviesSlider:Le},data:function(){return{message:"Movie of the week"}},computed:o({},c({movies:"getMovies",genres:"getGenres",latest:"getLatestMovies",popular:"getPopularMovies",featured:"getFeaturedMovie"})),created(){qe.push(this.$store.subscribe((e=>{"SET_GENRE"===e.type&&je.runDispatchesForMovies()})))},beforeUnmount(){qe.map((e=>{e()}))},methods:{checkFeatured(){return!d.isEmpty(this.featured)}}},Ve=F("data-v-4c9695f9");u("data-v-4c9695f9");const He={class:"content"};g();const Je=Ve(((e,t,s,a,r,i)=>{const n=T("FeaturedMovie"),o=T("MoviesSlider");return m(),v(E,null,[i.checkFeatured()?(m(),v(n,{key:0,featured:e.featured,message:e.message},null,8,["featured","message"])):S("",!0),p("div",He,[p("div",{class:["content-offset",{"no-featured":!e.featured}]},[p(o,{movies:e.popular,title:"Popular","empty-message":"No movies of this genre"},null,8,["movies"]),p(o,{movies:e.latest,title:"Latest","empty-message":"No movies of this genre"},null,8,["movies"]),p(o,{movies:e.movies,title:"Movies","empty-message":"No movies of this genre"},null,8,["movies"])],2)])],64)}));Ye.render=Je,Ye.__scopeId="data-v-4c9695f9";let ze=[];const Ke={components:{FeaturedMovie:de,MoviesSlider:Le},data:function(){return{message:"Show of the week"}},computed:o({},c({series:"getSeries",genres:"getGenres",latest:"getLatestSeries",popular:"getPopularSeries",featured:"getFeaturedSeries"})),created(){ze.push(this.$store.subscribe((e=>{"SET_GENRE"===e.type&&je.runDispatchesForSeries()})))},beforeUnmount(){ze.map((e=>{e()}))},methods:{checkFeatured(){return!d.isEmpty(this.featured)}}},Qe=F("data-v-c7c399a6");u("data-v-c7c399a6");const We={class:"content"};g();const Xe=Qe(((e,t,s,a,r,i)=>{const n=T("FeaturedMovie"),o=T("MoviesSlider");return m(),v(E,null,[i.checkFeatured()?(m(),v(n,{key:0,featured:e.featured,message:e.message},null,8,["featured","message"])):S("",!0),p("div",We,[p("div",{class:["content-offset",{"no-featured":!e.featured}]},[p(o,{movies:e.popular,title:"Popular","empty-message":"No movies of this genre"},null,8,["movies"]),p(o,{movies:e.latest,title:"Latest","empty-message":"No movies of this genre"},null,8,["movies"]),p(o,{movies:e.series,title:"TV series","empty-message":"No series of this genre"},null,8,["movies"])],2)])],64)}));Ke.render=Xe,Ke.__scopeId="data-v-c7c399a6";const Ze={components:{},props:{count:Number,callback:Function},data:()=>({activePage:0}),computed:{pagesCount:function(){return Math.ceil(d.divide(this.count,10))}},created(){},methods:{async filterByGenre(){await this.$store.dispatch("setGenre",this.genre.id),await this.$router.push({path:"/"})},async changePage(e){this.activePage=e-1,await this.$store.dispatch("getAllMoviesFiltered",{limit:10,offset:10*this.activePage})}}},et=F("data-v-3a5a9b5e");u("data-v-3a5a9b5e");const tt={key:0,class:"pagination-container"};g();const st=et(((e,t,s,a,r,i)=>i.pagesCount>1?(m(),v("div",tt,[(m(!0),v(E,null,M(i.pagesCount,(e=>(m(),v("div",{key:e,class:["page",{active:r.activePage===e-1}],onClick:t=>i.changePage(e)},y(e),11,["onClick"])))),128))])):S("",!0)));Ze.render=st,Ze.__scopeId="data-v-3a5a9b5e";let at=[];const rt={components:{MovieBox:_e,Genre:le,Pagination:Ze},props:{},data:()=>({}),computed:l(o({},c({filteredMovies:"getAllMoviesFiltered",actors:"getActorsFiltered",genres:"getFilteredGenres",genre:"getGenre"})),{movies:function(){return this.filteredMovies.movies},pagination:function(){return this.filteredMovies.count}}),created(){at.push(this.$store.subscribe((e=>{"SET_SEARCH_FIELD"!==e.type&&"SET_GENRE"!==e.type||je.runDispatchesForMovieList()})))},beforeUnmount(){at.map((e=>{e()}))}},it=F("data-v-00547528");u("data-v-00547528");const nt={class:"movie-list-container"},ot=p("div",{class:"page-title"},"Search results",-1),lt={key:0,class:"genres"},ct=p("div",{class:"genres-title"},"Genres",-1),dt={key:0,class:"genres-container"},ut={key:1,class:"empty-container"},gt={key:1,class:"actors"},mt=p("div",{class:"actors-title"},"Actors",-1),vt={key:0,class:"actors-container"},pt={key:1,class:"empty-container"},ht={class:"movies"},ft=p("div",{class:"movies-title"},"Movies",-1),St={key:0,class:"movies-container"},yt={key:1,class:"empty-container"},Et={class:"pagination"};g();const Mt=it(((e,t,s,a,r,i)=>{const n=T("Genre"),o=T("MovieBox"),l=T("Pagination");return m(),v("div",nt,[ot,e.genre.id?S("",!0):(m(),v("div",lt,[ct,e.genres.length?(m(),v("div",dt,[(m(!0),v(E,null,M(e.genres,(e=>(m(),v(n,{key:e.id,genre:e},null,8,["genre"])))),128))])):S("",!0),e.genres.length?S("",!0):(m(),v("div",ut,"No genres were found"))])),e.genre.id?S("",!0):(m(),v("div",gt,[mt,e.actors.length?(m(),v("div",vt,[(m(!0),v(E,null,M(e.actors,(e=>(m(),v("p",{key:e.id,class:"actor"},y(e.name),1)))),128))])):S("",!0),e.actors.length?S("",!0):(m(),v("div",pt,"No actors were found "))])),p("div",ht,[ft,i.movies.length?(m(),v("div",St,[(m(!0),v(E,null,M(i.movies,(e=>(m(),v(o,{key:e.id,movie:e},null,8,["movie"])))),128))])):S("",!0),i.movies.length?S("",!0):(m(),v("div",yt,"No movies were found "))]),p("div",Et,[p(l,{count:i.pagination},null,8,["count"])])])}));rt.render=Mt,rt.__scopeId="data-v-00547528";const Ft={components:{Genre:le},beforeRouteEnter(e,t,s){re.getMovie(e.query.id).then((e=>{s((t=>t.setMovie(e)))}))},props:{},data:()=>({movie:{}}),computed:{baseUrl:()=>z},created(){},methods:{getImgUrl:e=>"../images/"+e+".jpg",setMovie(e){this.movie=e}}},_t=F("data-v-0bcfcf2c");u("data-v-0bcfcf2c");const bt={class:"movie-container"},wt={class:"movie-info"},kt={class:"movie-title"},Tt={class:"release-date"},Lt={class:"genres"},It={class:"actors"},Pt=p("div",{class:"caption"}," Cast ",-1);g();const Gt=_t(((e,t,s,a,r,i)=>{const n=T("Genre");return m(),v("div",bt,[p("div",{class:"movie-poster",style:{backgroundImage:"url("+i.getImgUrl(r.movie.id)+")"}},null,4),p("div",wt,[p("div",kt,y(r.movie.title),1),p("div",Tt," Release date: "+y(r.movie.release_date_formatted),1),p("div",Lt,[(m(!0),v(E,null,M(r.movie.genre,(e=>(m(),v(n,{key:e.id,genre:e},null,8,["genre"])))),128))]),p("div",It,[Pt,(m(!0),v(E,null,M(r.movie.actors,(e=>(m(),v("p",{key:e.id,class:"actor"},y(e.name),1)))),128))])])])}));Ft.render=Gt,Ft.__scopeId="data-v-0bcfcf2c";const Rt=L({history:I(K),routes:[{path:"/",name:"main",component:Ce,beforeEnter:(e,t,s)=>{je.runDispatchesForMain().then((()=>{s()}))}},{path:"/movies",name:"movies",component:Ye,beforeEnter:(e,t,s)=>{je.runDispatchesForMovies().then((()=>{s()}))}},{path:"/series",name:"series",component:Ke,beforeEnter:(e,t,s)=>{je.runDispatchesForSeries().then((()=>{s()}))}},{path:"/search/:search?",name:"search",component:rt,beforeEnter:async(e,t,s)=>{await je.runDispatchesForMovieList(),s()}},{path:"/movie/:id?",name:"movie",component:Ft}]});function At(e,t){return Boolean(t)?e.filter((e=>!e.is_series)):e.filter((e=>e.is_series))}function Nt(e,t){return t?e.filter((e=>d.some(e.genre,(e=>e.id==t)))):e}Rt.beforeEach((async e=>{let t=await ie.getters.getSearchField;e.query.search!==t&&await ie.dispatch("setSearchField",e.query.search)}));var Ot=(e,t)=>{let s=Nt(e,t);return s.length?d.sample(Nt(s,t)):null},Dt=(e,t)=>Nt(At(e,!0),t),jt=(e,t)=>Nt(At(e,!1),t),xt=(e,t)=>d.orderBy(Nt(e,t),["release_date"],["desc"]),Ct=(e,t)=>d.shuffle(Nt(e,t)),$t=(e,t,s)=>{let a=At(e,t);return d.orderBy(Nt(a,s),["release_date"],["desc"])},Ut=(e,t,s)=>{let a=At(e,t);return d.shuffle(Nt(a,s))},Bt=(e,t,s)=>{let a=Nt(At(e,t),s);return a.length?d.sample(a):null},qt=(e,t,s,a,r)=>{let i=function(e,t,s,a,r){let i=d.toLower(t),n=e;return t&&!s?n=e.filter((e=>{let t=e.title.indexOf(i)>=0,s=e.actors.filter((e=>d.toLower(e.name).indexOf(i)>=0)),a=e.genre.filter((e=>d.toLower(e.title).indexOf(i)>=0));return t||s.length||a.length})):t&&s?n=e.filter((e=>{let t=e.title.indexOf(i)>=0,a=e.genre.filter((e=>e.id==s));return t&&a.length})):!t&&s&&(n=e.filter((e=>e.genre.filter((e=>e.id==s)).length))),{movies:n.slice(parseInt(r||0),parseInt(r||0)+parseInt(a||0)),count:n.length}}(e,t,s,a,r);return{movies:i.movies,count:i.count}},Yt=(e,t)=>function(e,t){return e.filter((e=>d.toLower(e.title).indexOf(d.toLower(t))>=0))}(e,t),Vt=(e,t)=>function(e,t){return e.filter((e=>d.toLower(e.name).indexOf(d.toLower(t))>=0))}(e,t),Ht=(e,t)=>e.find((e=>e.id==t));const Jt=_({useNativeBigInt:!0,storeAsString:!0});let zt=[],Kt=[],Qt=[];async function Wt(){if(!zt.length){let e=await fetch(X);zt=Jt.parse(await e.text())}return zt}async function Xt(){if(!Kt.length){let e=await fetch(Q);Kt=Jt.parse(await e.text())}return Kt}const Zt=G(...[P.get(z+"/genres",(async(e,t,s)=>{let a=await Wt();return t(s.status(200),s.json(a))})),P.get(z+"/movie",(async(e,t,s)=>{const a=e.url.searchParams.get("id");let r=await Xt();return r=Ht(r,a),t(s.status(200),s.json(r))})),P.get(z+"/movies",(async(e,t,s)=>{const a=e.url.searchParams.get("genreId");let r=await Xt();return r=Dt(r,a),t(s.status(200),s.json(r))})),P.get(z+"/series",(async(e,t,s)=>{const a=e.url.searchParams.get("genreId");let r=await Xt();return r=jt(r,a),t(s.status(200),s.json(r))})),P.get(z+"/latest",(async(e,t,s)=>{const a=e.url.searchParams.get("genreId"),r=JSON.parse(e.url.searchParams.get("isMovies"));let i=await Xt();return i=d.isNil(r)?xt(i,a):$t(i,r,a),t(s.status(200),s.json(i))})),P.get(z+"/popular",(async(e,t,s)=>{const a=e.url.searchParams.get("genreId"),r=JSON.parse(e.url.searchParams.get("isMovies"));let i=await Xt();return i=d.isNil(r)?Ct(i,a):Ut(i,r,a),t(s.status(200),s.json(i))})),P.get(z+"/featured",(async(e,t,s)=>{const a=e.url.searchParams.get("genreId"),r=JSON.parse(e.url.searchParams.get("isMovies"));let i=await Xt();return i=d.isNil(r)?Ot(i,a):Bt(i,r,a),t(s.status(200),s.json(i))})),P.get(z+"/movies/all",(async(e,t,s)=>{const a=e.url.searchParams.get("key"),r=e.url.searchParams.get("genreId"),i=e.url.searchParams.get("limit"),n=e.url.searchParams.get("offset");let o=await Xt();return o=qt(o,a,r,i,n),t(s.status(200),s.json(o))})),P.get(z+"/genres/all",(async(e,t,s)=>{const a=e.url.searchParams.get("key");let r=await Wt();return r=Yt(r,a),t(s.status(200),s.json(r))})),P.get(z+"/actors/all",(async(e,t,s)=>{const a=e.url.searchParams.get("key");let r=await async function(){if(!Qt.length){let e=await fetch(W);Qt=Jt.parse(await e.text())}return Qt}();return r=Vt(r,a),t(s.status(200),s.json(r))}))]);Zt.printHandlers(),Zt.start({onUnhandledRequest:"bypass"});const es=R(ne);es.use(ie),es.use(Rt),es.mount("#app");
