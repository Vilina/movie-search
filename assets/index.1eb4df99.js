var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,n=(t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,o=(e,t)=>{for(var s in t||(t={}))r.call(t,s)&&n(e,s,t[s]);if(a)for(var s of a(t))i.call(t,s)&&n(e,s,t[s]);return e},l=(e,a)=>t(e,s(a));import{m as c,_ as d,p as u,a as g,o as m,c as v,b as p,w as h,v as f,d as S,t as E,F as y,r as M,e as F,J as b,C as _,h as w,f as k,g as T,i as L,j as I,k as P,s as G,l as R}from"./vendor.b498344b.js";const U={data:function(){return{subMenu:!1}},computed:l(o({},c({movies:"getMovies",series:"getSeries",genres:"getGenres",genre:"getGenre",searchFieldState:"getSearchField"})),{searchField:{get(){return this.searchFieldState||""},set:d.debounce((async function(e){e?(await this.$store.dispatch("setSearchField",e),await this.$router.push({path:"/search",query:{search:this.searchField}})):(await this.$store.dispatch("unsetSearchField"),await this.$router.push({path:"/search"}))}),500)}}),created(){window.addEventListener("scroll",this.handleScroll),window.addEventListener("click",this.closeSubmenu)},beforeUpdate(){},mounted(){document.querySelector(".genre-dropdown-box").addEventListener("click",(e=>{e.stopPropagation()}))},unmounted(){document.querySelector(".genre-dropdown-box").removeEventListener("click",(e=>{e.stopPropagation()})),window.removeEventListener("click",this.closeSubmenu),window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){let e=document.querySelector(".search-content");window.scrollY>0&&!e.className.includes("pinned")?e.classList.add("pinned"):0==window.scrollY&&e.classList.remove("pinned")},goSeries(){this.$router.push({path:"/series"})},goMovies(){this.$router.push({path:"/movies"})},goMain(){this.$router.push({path:"/"})},toggleSubmenu(){this.subMenu=!this.subMenu},closeSubmenu(){this.subMenu=!1},setGenre(e){this.$store.dispatch("setGenre",e),"movie"===this.$route.name&&this.goMain(),this.toggleSubmenu()},unsetGenre(e){e.stopPropagation(),this.$store.dispatch("unsetGenre"),this.closeSubmenu()},async unsetSearch(e){e.stopPropagation(),this.searchField=""},async searchMovies(){await this.$store.dispatch("setSearchField",this.searchField),await this.$router.push({path:"/search",query:{search:this.searchField}})}}},A=F("data-v-3fce0999");u("data-v-3fce0999");const N={class:"search-container"},O={class:"search-content"},D={class:"search-box"},j={class:"search-box-elements"},x={class:"search-input"},C=p("i",{class:"icon fas fa-search"},null,-1),$={class:"genre-dropdown-box"},B={key:0},q={key:1},Y={key:2,class:"icon fas fa-chevron-down"},V={key:3,class:"icon fas fa-chevron-up"},H={key:0,class:"box-submenu"};g();const J=A(((e,t,s,a,r,i)=>(m(),v("div",N,[p("div",O,[p("a",{class:"logo",onClick:t[1]||(t[1]=e=>i.goMain())}),p("a",{class:["menu-item",{active:"main"===e.$route.name}],onClick:t[2]||(t[2]=e=>i.goMain())},"Home",2),p("a",{class:["menu-item",{active:"series"===e.$route.name}],onClick:t[3]||(t[3]=e=>i.goSeries())},"TV shows",2),p("a",{class:["menu-item",{active:"movies"===e.$route.name}],onClick:t[4]||(t[4]=e=>i.goMovies())},"Movies",2),p("div",D,[p("div",j,[p("div",x,[h(p("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>i.searchField=e),placeholder:"Titles, people, genres",type:"text"},null,512),[[f,i.searchField]]),C,""!==i.searchField?(m(),v("i",{key:0,class:"icon fas fa-times",onClick:t[6]||(t[6]=(...e)=>i.unsetSearch&&i.unsetSearch(...e))})):S("",!0)])]),p("div",$,[p("div",{class:"box-label",onClick:t[8]||(t[8]=e=>i.toggleSubmenu())},[e.genre&&!e.genre.title?(m(),v("a",B,"Genres")):S("",!0),e.genre&&e.genre.title?(m(),v("a",q,E(e.genre.title),1)):S("",!0),e.subMenu?S("",!0):(m(),v("i",Y)),e.subMenu?(m(),v("i",V)):S("",!0),e.genre&&e.genre.title?(m(),v("i",{key:4,class:"icon fas fa-times",onClick:t[7]||(t[7]=(...e)=>i.unsetGenre&&i.unsetGenre(...e))})):S("",!0)]),e.subMenu?(m(),v("div",H,[(m(!0),v(y,null,M(e.genres,(e=>(m(),v("p",{key:e.id,onClick:t=>i.setGenre(e.id)},E(e.title),9,["onClick"])))),128))])):S("",!0)])])])]))));U.render=J,U.__scopeId="data-v-3fce0999";let W="development";"vilina.github.io"===window.location.hostname&&(W="production");let z={baseUrl:"production"===W?"/movie-search":"",apiUrl:"production"===W?"/movie-search":"",moviesEndpoint:"/movies.json",actorsEndpoint:"/actors.json",genreEndpoint:"/genre.json"};const K=b({useNativeBigInt:!0}),Q=z.apiUrl;let X=_.create({baseURL:Q});function Z(e){let t=e;return Array.isArray(e)?t=t.map((function(e){return e.release_date_formatted=w(e.release_date).format("YYYY MMM DD"),e})):t&&t.release_date&&(t.release_date_formatted=w(t.release_date).format("YYYY MMM DD")),t}function ee(...e){let t="?";return e.map((e=>{e[Object.keys(e)[0]]&&(t+=Object.keys(e)[0]+"="+e[Object.keys(e)[0]]+"&")})),t}var te={getMovies(e){let t=ee({genreId:e.id});return X.get("/movies"+t,{transformResponse:[e=>K.parse(e)]}).then((e=>Z(e.data)))},getSeries(e){let t=ee({genreId:e.id});return X.get("/series"+t,{transformResponse:[e=>K.parse(e)]}).then((e=>Z(e.data)))},getLatest(e){let t=ee({genreId:e.id});return X.get("/latest"+t,{transformResponse:[e=>K.parse(e)]}).then((e=>Z(e.data)))},getPopular(e){let t=ee({genreId:e.id});return X.get("/popular"+t,{transformResponse:[e=>K.parse(e)]}).then((e=>Z(e.data)))},getFeatured(e){let t=ee({genreId:e.id});return X.get("/featured"+t,{transformResponse:[e=>K.parse(e)]}).then((e=>Z(e.data)))},getLatestFiltered(e,t){let s=ee({isMovies:e},{genreId:t.id});return X.get("/latest"+s,{transformResponse:[e=>K.parse(e)]}).then((e=>Z(e.data)))},getPopularFiltered(e,t){let s=ee({isMovies:e},{genreId:t.id});return X.get("/popular"+s,{transformResponse:[e=>K.parse(e)]}).then((e=>Z(e.data)))},getFeaturedFiltered(e,t){let s=ee({isMovies:e},{genreId:t.id});return X.get("/featured"+s,{transformResponse:[e=>K.parse(e)]}).then((e=>e.data))},getGenres:()=>X.get("/genres",{transformResponse:[e=>K.parse(e)]}).then((e=>e.data)),getGenresFiltered(e){let t=ee({key:e});return X.get("/genres/all"+t,{transformResponse:[e=>K.parse(e)]}).then((e=>e.data))},getAllMoviesFiltered(e,t,s,a){let r=ee({key:e},{genreId:t.id},{limit:s},{offset:a});return X.get("/movies/all"+r,{transformResponse:[e=>K.parse(e)]}).then((e=>(Z(e.data.movies),e.data)))},getActorsFiltered(e){let t=ee({key:e});return X.get("/actors/all"+t,{transformResponse:[e=>K.parse(e)]}).then((e=>e.data))},getMovie(e){let t=ee({id:e});return X.get("/movie"+t,{transformResponse:[e=>K.parse(e)]}).then((e=>Z(e.data)))}};const se=k({state:()=>({allMovies:{},movies:[],series:[],latest:[],popular:[],latestMovies:[],latestSeries:[],popularMovies:[],popularSeries:[],featuredMovie:{},featuredMovieMovie:{},featuredMovieSeries:{},genre:{},genres:[],genresFiltered:[],actors:[],searchField:""}),mutations:{SET_ALL_MOVIES:(e,t)=>{e.allMovies=t},SET_MOVIES:(e,t)=>{e.movies=t},SET_SERIES:(e,t)=>{e.series=t},SET_LATEST:(e,t)=>{e.latest=t},SET_POPULAR:(e,t)=>{e.popular=t},SET_FEATURED:(e,t)=>{e.featuredMovie=t},SET_LATEST_FILTERED:(e,t)=>{t.isMovies?e.latestMovies=t.movies:e.latestSeries=t.movies},SET_POPULAR_FILTERED:(e,t)=>{t.isMovies?e.popularMovies=t.movies:e.popularSeries=t.movies},SET_FEATURED_FILTERED:(e,t)=>{t.isMovies?e.featuredMovieMovie=t.movie:e.featuredMovieSeries=t.movie},SET_GENRES:(e,t)=>{e.genres=t},SET_FILTERED_GENRES:(e,t)=>{e.genresFiltered=t},SET_GENRE:(e,t)=>{e.genre=t},SET_ACTORS:(e,t)=>{e.actors=t},SET_SEARCH_FIELD:(e,t)=>{e.searchField=t}},actions:{setGenre({commit:e,state:t},s){e("SET_GENRE",t.genres.find((function(e){return e.id===s})))},unsetGenre({commit:e}){e("SET_GENRE",{})},setGenres:({commit:e},t)=>e("SET_GENRES",t),setFilteredGenres:({commit:e},t)=>e("SET_FILTERED_GENRES",t),setActors:({commit:e},t)=>e("SET_ACTORS",t),setSearchField:({commit:e},t)=>e("SET_SEARCH_FIELD",t),unsetSearchField({commit:e}){e("SET_SEARCH_FIELD","")},getMovies:({commit:e,state:t})=>te.getMovies(t.genre).then((t=>{e("SET_MOVIES",t)})),getSeries:({commit:e,state:t})=>te.getSeries(t.genre).then((t=>{e("SET_SERIES",t)})),getLatest:({commit:e,state:t})=>te.getLatest(t.genre).then((t=>{e("SET_LATEST",t)})),getPopular:({commit:e,state:t})=>te.getPopular(t.genre).then((t=>{e("SET_POPULAR",t)})),getFeatured:({commit:e,state:t})=>te.getFeatured(t.genre).then((t=>{e("SET_FEATURED",t)})),getLatestFiltered:({commit:e,state:t},[s])=>te.getLatestFiltered(s,t.genre).then((t=>{e("SET_LATEST_FILTERED",{movies:t,isMovies:s})})),getPopularFiltered:({commit:e,state:t},[s])=>te.getPopularFiltered(s,t.genre).then((t=>{e("SET_POPULAR_FILTERED",{movies:t,isMovies:s})})),getFeaturedFiltered:({commit:e,state:t},[s])=>te.getFeaturedFiltered(s,t.genre).then((t=>{e("SET_FEATURED_FILTERED",{movie:t,isMovies:s})})),getAllGenres:({commit:e})=>te.getGenres().then((t=>{e("SET_GENRES",t)})),getAllMoviesFiltered:({commit:e,state:t},s)=>te.getAllMoviesFiltered(t.searchField,t.genre,s.limit,s.offset).then((t=>{e("SET_ALL_MOVIES",t)})),getGenresFiltered:({commit:e,state:t})=>te.getGenresFiltered(t.searchField).then((t=>{e("SET_FILTERED_GENRES",t)})),getActorsFiltered:({commit:e,state:t})=>te.getActorsFiltered(t.searchField).then((t=>{e("SET_ACTORS",t)}))},getters:{getMovies:e=>e.movies,getSeries:e=>e.series,getLatest:e=>e.latest,getPopular:e=>e.popular,getFeatured:e=>e.featuredMovie,getLatestMovies:e=>e.latestMovies,getLatestSeries:e=>e.latestSeries,getPopularMovies:e=>e.popularMovies,getPopularSeries:e=>e.popularSeries,getFeaturedMovie:e=>e.featuredMovieMovie,getFeaturedSeries:e=>e.featuredMovieSeries,getGenres:e=>e.genres,getGenre:e=>e.genre,getSearchField:e=>e.searchField,getActorsFiltered:e=>e.actors,getFilteredGenres:e=>e.genresFiltered,getAllMoviesFiltered:e=>e.allMovies}});const ae={components:{SearchHeader:U},props:{},data:()=>({}),created(){se.dispatch("getAllGenres")}},re={class:"app-container"};ae.render=function(e,t,s,a,r,i){const n=T("SearchHeader"),o=T("router-view");return m(),v("div",re,[p(n),p(o)])};const ie={components:{},props:{genre:Object,mini:{type:Boolean,default:!1},hover:{type:Boolean,default:!0}},data:()=>({}),computed:{},created(){},methods:{filterByGenre(){this.$store.dispatch("setGenre",this.genre.id),this.$router.push({path:"/"})}}},ne=F("data-v-0a3a08ef")(((e,t,s,a,r,i)=>(m(),v("a",{class:["genre-item",{mini:s.mini}],onClick:t[1]||(t[1]=e=>i.filterByGenre())},E(s.genre.title),3))));ie.render=ne,ie.__scopeId="data-v-0a3a08ef";const oe={components:{Genre:ie},props:{featured:Object,message:{type:String,default:""}},computed:{baseUrl:()=>z.baseUrl},created(){},methods:{getImgUrl(e){return this.baseUrl+"/images/"+e+".jpg"},async openMovie(){await this.$router.push({path:"/movie",query:{id:this.featured.id}})}}},le=F("data-v-8e05c8e4");u("data-v-8e05c8e4");const ce={class:"featured-container"},de={class:"featured-img-container"},ue=p("div",{class:"featured-gradient"},null,-1),ge=p("div",{class:"featured-gradient-title"},null,-1),me={key:0,class:"featured-info-message"},ve={class:"featured-info"},pe={class:"featured-info-details"},he={key:0,class:"featured-info-details-category"},fe={class:"featured-info-details-year"},Se={class:"featured-info-genre"};g();const Ee=le(((e,t,s,a,r,i)=>{const n=T("Genre");return m(),v("div",ce,[p("div",de,[p("div",{class:"featured-img",style:{backgroundImage:"url("+i.getImgUrl(s.featured.id)+")"}},null,4),ue,ge]),s.message?(m(),v("div",me,E(s.message),1)):S("",!0),p("div",ve,[p("div",{class:"featured-info-title",onClick:t[1]||(t[1]=e=>i.openMovie())},E(s.featured.title),1),p("div",pe,[s.featured.is_series?(m(),v("div",he,"TV Series")):S("",!0),p("div",fe,E(s.featured.release_date_formatted),1)]),p("div",Se,[(m(!0),v(y,null,M(s.featured.genre,(e=>(m(),v(n,{key:e.id,genre:e},null,8,["genre"])))),128))])])])}));oe.render=Ee,oe.__scopeId="data-v-8e05c8e4";const ye={components:{Genre:ie},props:{movie:Object},data:()=>({}),computed:{baseUrl:()=>z.baseUrl},created(){},methods:{getImgUrl(e){return this.baseUrl+"/images/"+e+".jpg"},async openMovie(){await this.$router.push({path:"/movie",query:{id:this.movie.id}})}}},Me=F("data-v-cea04282");u("data-v-cea04282");const Fe={class:"movie-title"},be={class:"genre-container"};g();const _e=Me(((e,t,s,a,r,i)=>{const n=T("Genre");return m(),v("div",{class:"movie-box-container ",onClick:t[1]||(t[1]=e=>i.openMovie())},[p("div",{class:"movie-img",style:{backgroundImage:"url("+i.getImgUrl(s.movie.id)+")"}},null,4),p("div",Fe,[p("p",null,E(s.movie.title),1),p("div",be,[(m(!0),v(y,null,M(s.movie.genre,(e=>(m(),v(n,{key:e.id,genre:e,mini:!0,hover:!1},null,8,["genre"])))),128))])])])}));ye.render=_e,ye.__scopeId="data-v-cea04282";const we={components:{MovieBox:ye},props:{movies:Array,title:String,emptyMessage:String},data:()=>({}),computed:{},created(){}},ke=F("data-v-425adc70");u("data-v-425adc70");const Te={class:"slider-container"},Le={class:"container-title"},Ie={class:"boxes-container-scroll"},Pe={key:0,class:"boxes-container"},Ge={key:1,class:"boxes-container"},Re={class:"empty-box"};g();const Ue=ke(((e,t,s,a,r,i)=>{const n=T("MovieBox");return m(),v("div",Te,[p("div",Le,E(s.title),1),p("div",Ie,[s.movies.length?(m(),v("div",Pe,[(m(!0),v(y,null,M(s.movies.slice(0,8),(e=>(m(),v(n,{key:e.id,movie:e},null,8,["movie"])))),128))])):S("",!0),s.movies.length?S("",!0):(m(),v("div",Ge,[p("div",Re,E(s.emptyMessage),1)]))])])}));we.render=Ue,we.__scopeId="data-v-425adc70";var Ae={runDispatchesForMovies:async function(){await se.dispatch("getMovies"),await se.dispatch("getLatestFiltered",[!0]),await se.dispatch("getPopularFiltered",[!0]),await se.dispatch("getFeaturedFiltered",[!0])},runDispatchesForSeries:async function(){await se.dispatch("getSeries"),await se.dispatch("getLatestFiltered",[!1]),await se.dispatch("getPopularFiltered",[!1]),await se.dispatch("getFeaturedFiltered",[!1])},runDispatchesForMain:async function(){await se.dispatch("getMovies"),await se.dispatch("getSeries"),await se.dispatch("getLatest"),await se.dispatch("getPopular"),await se.dispatch("getFeatured")},runDispatchesForMovieList:async function(){await se.dispatch("getAllMoviesFiltered",{limit:10}),await se.dispatch("getActorsFiltered"),await se.dispatch("getGenresFiltered")}};let Ne=[];const Oe={components:{FeaturedMovie:oe,MoviesSlider:we},data:()=>({}),computed:o({},c({genres:"getGenres",movies:"getMovies",series:"getSeries",latest:"getLatest",popular:"getPopular",featured:"getFeatured"})),created(){Ne.push(this.$store.subscribe((e=>{"SET_GENRE"===e.type&&Ae.runDispatchesForMain()})))},beforeUnmount(){Ne.map((e=>{e()}))},methods:{checkFeatured(){return!d.isEmpty(this.featured)}}},De=F("data-v-dccace22");u("data-v-dccace22");const je={class:"content"};g();const xe=De(((e,t,s,a,r,i)=>{const n=T("FeaturedMovie"),o=T("MoviesSlider");return m(),v(y,null,[i.checkFeatured()?(m(),v(n,{key:0,featured:e.featured},null,8,["featured"])):S("",!0),p("div",je,[p("div",{class:["content-offset",{"no-featured":!e.featured}]},[p(o,{movies:e.popular,title:"Popular","empty-message":"No movies of this genre"},null,8,["movies"]),p(o,{movies:e.latest,title:"Latest","empty-message":"No movies of this genre"},null,8,["movies"]),p(o,{movies:e.movies,title:"Movies","empty-message":"No movies of this genre"},null,8,["movies"]),p(o,{movies:e.series,title:"TV Series","empty-message":"No series of this genre"},null,8,["movies"])],2)])],64)}));Oe.render=xe,Oe.__scopeId="data-v-dccace22";let Ce=[];const $e={components:{FeaturedMovie:oe,MoviesSlider:we},data:function(){return{message:"Movie of the week"}},computed:o({},c({movies:"getMovies",genres:"getGenres",latest:"getLatestMovies",popular:"getPopularMovies",featured:"getFeaturedMovie"})),created(){Ce.push(this.$store.subscribe((e=>{"SET_GENRE"===e.type&&Ae.runDispatchesForMovies()})))},beforeUnmount(){Ce.map((e=>{e()}))},methods:{checkFeatured(){return!d.isEmpty(this.featured)}}},Be=F("data-v-4c9695f9");u("data-v-4c9695f9");const qe={class:"content"};g();const Ye=Be(((e,t,s,a,r,i)=>{const n=T("FeaturedMovie"),o=T("MoviesSlider");return m(),v(y,null,[i.checkFeatured()?(m(),v(n,{key:0,featured:e.featured,message:e.message},null,8,["featured","message"])):S("",!0),p("div",qe,[p("div",{class:["content-offset",{"no-featured":!e.featured}]},[p(o,{movies:e.popular,title:"Popular","empty-message":"No movies of this genre"},null,8,["movies"]),p(o,{movies:e.latest,title:"Latest","empty-message":"No movies of this genre"},null,8,["movies"]),p(o,{movies:e.movies,title:"Movies","empty-message":"No movies of this genre"},null,8,["movies"])],2)])],64)}));$e.render=Ye,$e.__scopeId="data-v-4c9695f9";let Ve=[];const He={components:{FeaturedMovie:oe,MoviesSlider:we},data:function(){return{message:"Show of the week"}},computed:o({},c({series:"getSeries",genres:"getGenres",latest:"getLatestSeries",popular:"getPopularSeries",featured:"getFeaturedSeries"})),created(){Ve.push(this.$store.subscribe((e=>{"SET_GENRE"===e.type&&Ae.runDispatchesForSeries()})))},beforeUnmount(){Ve.map((e=>{e()}))},methods:{checkFeatured(){return!d.isEmpty(this.featured)}}},Je=F("data-v-c7c399a6");u("data-v-c7c399a6");const We={class:"content"};g();const ze=Je(((e,t,s,a,r,i)=>{const n=T("FeaturedMovie"),o=T("MoviesSlider");return m(),v(y,null,[i.checkFeatured()?(m(),v(n,{key:0,featured:e.featured,message:e.message},null,8,["featured","message"])):S("",!0),p("div",We,[p("div",{class:["content-offset",{"no-featured":!e.featured}]},[p(o,{movies:e.popular,title:"Popular","empty-message":"No movies of this genre"},null,8,["movies"]),p(o,{movies:e.latest,title:"Latest","empty-message":"No movies of this genre"},null,8,["movies"]),p(o,{movies:e.series,title:"TV series","empty-message":"No series of this genre"},null,8,["movies"])],2)])],64)}));He.render=ze,He.__scopeId="data-v-c7c399a6";const Ke={components:{},props:{count:Number,callback:Function},data:()=>({activePage:0}),computed:{pagesCount:function(){return Math.ceil(d.divide(this.count,10))}},created(){},methods:{async filterByGenre(){await this.$store.dispatch("setGenre",this.genre.id),await this.$router.push({path:"/"})},async changePage(e){this.activePage=e-1,await this.$store.dispatch("getAllMoviesFiltered",{limit:10,offset:10*this.activePage})}}},Qe=F("data-v-3a5a9b5e");u("data-v-3a5a9b5e");const Xe={key:0,class:"pagination-container"};g();const Ze=Qe(((e,t,s,a,r,i)=>i.pagesCount>1?(m(),v("div",Xe,[(m(!0),v(y,null,M(i.pagesCount,(e=>(m(),v("div",{key:e,class:["page",{active:r.activePage===e-1}],onClick:t=>i.changePage(e)},E(e),11,["onClick"])))),128))])):S("",!0)));Ke.render=Ze,Ke.__scopeId="data-v-3a5a9b5e";let et=[];const tt={components:{MovieBox:ye,Genre:ie,Pagination:Ke},props:{},data:()=>({}),computed:l(o({},c({filteredMovies:"getAllMoviesFiltered",actors:"getActorsFiltered",genres:"getFilteredGenres",genre:"getGenre"})),{movies:function(){return this.filteredMovies.movies},pagination:function(){return this.filteredMovies.count}}),created(){et.push(this.$store.subscribe((e=>{"SET_SEARCH_FIELD"!==e.type&&"SET_GENRE"!==e.type||Ae.runDispatchesForMovieList()})))},beforeUnmount(){et.map((e=>{e()}))}},st=F("data-v-00547528");u("data-v-00547528");const at={class:"movie-list-container"},rt=p("div",{class:"page-title"},"Search results",-1),it={key:0,class:"genres"},nt=p("div",{class:"genres-title"},"Genres",-1),ot={key:0,class:"genres-container"},lt={key:1,class:"empty-container"},ct={key:1,class:"actors"},dt=p("div",{class:"actors-title"},"Actors",-1),ut={key:0,class:"actors-container"},gt={key:1,class:"empty-container"},mt={class:"movies"},vt=p("div",{class:"movies-title"},"Movies",-1),pt={key:0,class:"movies-container"},ht={key:1,class:"empty-container"},ft={class:"pagination"};g();const St=st(((e,t,s,a,r,i)=>{const n=T("Genre"),o=T("MovieBox"),l=T("Pagination");return m(),v("div",at,[rt,e.genre.id?S("",!0):(m(),v("div",it,[nt,e.genres.length?(m(),v("div",ot,[(m(!0),v(y,null,M(e.genres,(e=>(m(),v(n,{key:e.id,genre:e},null,8,["genre"])))),128))])):S("",!0),e.genres.length?S("",!0):(m(),v("div",lt,"No genres were found"))])),e.genre.id?S("",!0):(m(),v("div",ct,[dt,e.actors.length?(m(),v("div",ut,[(m(!0),v(y,null,M(e.actors,(e=>(m(),v("p",{key:e.id,class:"actor"},E(e.name),1)))),128))])):S("",!0),e.actors.length?S("",!0):(m(),v("div",gt,"No actors were found "))])),p("div",mt,[vt,i.movies.length?(m(),v("div",pt,[(m(!0),v(y,null,M(i.movies,(e=>(m(),v(o,{key:e.id,movie:e},null,8,["movie"])))),128))])):S("",!0),i.movies.length?S("",!0):(m(),v("div",ht,"No movies were found "))]),p("div",ft,[p(l,{count:i.pagination},null,8,["count"])])])}));tt.render=St,tt.__scopeId="data-v-00547528";const Et={components:{Genre:ie},beforeRouteEnter(e,t,s){te.getMovie(e.query.id).then((e=>{s((t=>t.setMovie(e)))}))},props:{},data:()=>({movie:{}}),computed:{baseUrl:()=>z.apiUrl},created(){},methods:{getImgUrl(e){return this.baseUrl+"/images/"+e+".jpg"},setMovie(e){this.movie=e}}},yt=F("data-v-0bcfcf2c");u("data-v-0bcfcf2c");const Mt={class:"movie-container"},Ft={class:"movie-info"},bt={class:"movie-title"},_t={class:"release-date"},wt={class:"genres"},kt={class:"actors"},Tt=p("div",{class:"caption"}," Cast ",-1);g();const Lt=yt(((e,t,s,a,r,i)=>{const n=T("Genre");return m(),v("div",Mt,[p("div",{class:"movie-poster",style:{backgroundImage:"url("+i.getImgUrl(r.movie.id)+")"}},null,4),p("div",Ft,[p("div",bt,E(r.movie.title),1),p("div",_t," Release date: "+E(r.movie.release_date_formatted),1),p("div",wt,[(m(!0),v(y,null,M(r.movie.genre,(e=>(m(),v(n,{key:e.id,genre:e},null,8,["genre"])))),128))]),p("div",kt,[Tt,(m(!0),v(y,null,M(r.movie.actors,(e=>(m(),v("p",{key:e.id,class:"actor"},E(e.name),1)))),128))])])])}));Et.render=Lt,Et.__scopeId="data-v-0bcfcf2c";const It=L({history:I(z.baseUrl),routes:[{path:"/",name:"main",component:Oe,beforeEnter:(e,t,s)=>{Ae.runDispatchesForMain().then((()=>{s()}))}},{path:"/movies",name:"movies",component:$e,beforeEnter:(e,t,s)=>{Ae.runDispatchesForMovies().then((()=>{s()}))}},{path:"/series",name:"series",component:He,beforeEnter:(e,t,s)=>{Ae.runDispatchesForSeries().then((()=>{s()}))}},{path:"/search/:search?",name:"search",component:tt,beforeEnter:async(e,t,s)=>{await Ae.runDispatchesForMovieList(),s()}},{path:"/movie/:id?",name:"movie",component:Et}]});function Pt(e,t){return Boolean(t)?e.filter((e=>!e.is_series)):e.filter((e=>e.is_series))}function Gt(e,t){return t?e.filter((e=>d.some(e.genre,(e=>e.id==t)))):e}It.beforeEach((async e=>{let t=await se.getters.getSearchField;e.query.search!==t&&await se.dispatch("setSearchField",e.query.search)}));var Rt=(e,t)=>{let s=Gt(e,t);return s.length?d.sample(Gt(s,t)):null},Ut=(e,t)=>Gt(Pt(e,!0),t),At=(e,t)=>Gt(Pt(e,!1),t),Nt=(e,t)=>d.orderBy(Gt(e,t),["release_date"],["desc"]),Ot=(e,t)=>d.shuffle(Gt(e,t)),Dt=(e,t,s)=>{let a=Pt(e,t);return d.orderBy(Gt(a,s),["release_date"],["desc"])},jt=(e,t,s)=>{let a=Pt(e,t);return d.shuffle(Gt(a,s))},xt=(e,t,s)=>{let a=Gt(Pt(e,t),s);return a.length?d.sample(a):null},Ct=(e,t,s,a,r)=>{let i=function(e,t,s,a,r){let i=d.toLower(t),n=e;return t&&!s?n=e.filter((e=>{let t=e.title.indexOf(i)>=0,s=e.actors.filter((e=>d.toLower(e.name).indexOf(i)>=0)),a=e.genre.filter((e=>d.toLower(e.title).indexOf(i)>=0));return t||s.length||a.length})):t&&s?n=e.filter((e=>{let t=e.title.indexOf(i)>=0,a=e.genre.filter((e=>e.id==s));return t&&a.length})):!t&&s&&(n=e.filter((e=>e.genre.filter((e=>e.id==s)).length))),{movies:n.slice(parseInt(r||0),parseInt(r||0)+parseInt(a||0)),count:n.length}}(e,t,s,a,r);return{movies:i.movies,count:i.count}},$t=(e,t)=>function(e,t){return e.filter((e=>d.toLower(e.title).indexOf(d.toLower(t))>=0))}(e,t),Bt=(e,t)=>function(e,t){return e.filter((e=>d.toLower(e.name).indexOf(d.toLower(t))>=0))}(e,t),qt=(e,t)=>e.find((e=>e.id==t));const Yt=b({useNativeBigInt:!0,storeAsString:!0});let Vt=[],Ht=[],Jt=[];async function Wt(){if(!Vt.length){let e=await fetch(z.baseUrl+z.genreEndpoint);Vt=Yt.parse(await e.text())}return Vt}async function zt(){if(!Ht.length){let e=await fetch(z.baseUrl+z.moviesEndpoint);Ht=Yt.parse(await e.text())}return Ht}const Kt=G(...[P.get(z.apiUrl+"/genres",(async(e,t,s)=>{let a=await Wt();return t(s.status(200),s.json(a))})),P.get(z.apiUrl+"/movie",(async(e,t,s)=>{const a=e.url.searchParams.get("id");let r=await zt();return r=qt(r,a),t(s.status(200),s.json(r))})),P.get(z.apiUrl+"/movies",(async(e,t,s)=>{const a=e.url.searchParams.get("genreId");let r=await zt();return r=Ut(r,a),t(s.status(200),s.json(r))})),P.get(z.apiUrl+"/series",(async(e,t,s)=>{const a=e.url.searchParams.get("genreId");let r=await zt();return r=At(r,a),t(s.status(200),s.json(r))})),P.get(z.apiUrl+"/latest",(async(e,t,s)=>{const a=e.url.searchParams.get("genreId"),r=JSON.parse(e.url.searchParams.get("isMovies"));let i=await zt();return i=d.isNil(r)?Nt(i,a):Dt(i,r,a),t(s.status(200),s.json(i))})),P.get(z.apiUrl+"/popular",(async(e,t,s)=>{const a=e.url.searchParams.get("genreId"),r=JSON.parse(e.url.searchParams.get("isMovies"));let i=await zt();return i=d.isNil(r)?Ot(i,a):jt(i,r,a),t(s.status(200),s.json(i))})),P.get(z.apiUrl+"/featured",(async(e,t,s)=>{const a=e.url.searchParams.get("genreId"),r=JSON.parse(e.url.searchParams.get("isMovies"));let i=await zt();return i=d.isNil(r)?Rt(i,a):xt(i,r,a),t(s.status(200),s.json(i))})),P.get(z.apiUrl+"/movies/all",(async(e,t,s)=>{const a=e.url.searchParams.get("key"),r=e.url.searchParams.get("genreId"),i=e.url.searchParams.get("limit"),n=e.url.searchParams.get("offset");let o=await zt();return o=Ct(o,a,r,i,n),t(s.status(200),s.json(o))})),P.get(z.apiUrl+"/genres/all",(async(e,t,s)=>{const a=e.url.searchParams.get("key");let r=await Wt();return r=$t(r,a),t(s.status(200),s.json(r))})),P.get(z.apiUrl+"/actors/all",(async(e,t,s)=>{const a=e.url.searchParams.get("key");let r=await async function(){if(!Jt.length){let e=await fetch(z.baseUrl+z.actorsEndpoint);Jt=Yt.parse(await e.text())}return Jt}();return r=Bt(r,a),t(s.status(200),s.json(r))}))]);let Qt;Kt.printHandlers(),Qt="vilina.github.io"===window.location.hostname?Kt.start({onUnhandledRequest:"bypass",serviceWorker:{url:"/movie-search/mockServiceWorker.js"}}):Kt.start({onUnhandledRequest:"bypass"}),Qt.then((()=>{const e=R(ae);e.use(se),e.use(It),e.mount("#app")}));
